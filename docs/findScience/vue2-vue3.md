---
author: "Kano Zhao"
date: 2024-2-22
---
# ç¯å¢ƒé…ç½®

<PageInfo/>

# å‘ç€Vue3è¿›å‘ï¼ŒVue2.7å‡çº§æŒ‡å—

:::tip
ä»Šå¤©åˆé‡åˆ°äº†è€é¡¹ç›®éœ€è¦ä½¿ç”¨vue3å†™å¥½çš„ç»„ä»¶ï¼Œæ€»ä¸èƒ½é‡æ–°å†™ä¸€évue2çš„å§ï¼Œå½“ç„¶ç”ŸæˆnpmåŒ…ä¹Ÿæ˜¯ä¸€ç§æ–¹å¼ã€‚

ä¸è¿‡å¦‚æœé¡¹ç›®ä¸å¤æ‚å¯ä»¥è¯•è¯•å‡çº§vue2.7è¯•è¯•ï¼Œè¿™æ ·ä»¥åä¿®æ”¹èµ·æ¥ä¹Ÿæ–¹ä¾¿ã€‚
:::
åŒ—äº¬æ—¶é—´7æœˆ1å·ï¼ŒVue2.7æ­£å¼å‘å¸ƒï¼ŒVue2.7æ”¯æŒä½ çš„é¡¹ç›®åœ¨ä¸å‡çº§Vue3çš„æƒ…å†µä¸‹ä½¿ç”¨Vue3çš„ç‰¹æ€§ï¼Œä¾‹å¦‚Composition Apiã€setupã€Css v-bindç­‰ã€‚

ä¸æ­¤åŒæ—¶ï¼ŒVue2.7ä¹Ÿæ˜¯Vue2.Xçš„æœ€ç»ˆæ¬¡è¦ç‰ˆæœ¬ï¼Œåœ¨è¿™ä¸ªç‰ˆæœ¬ä¹‹åï¼ŒVue2å°†è¿›å…¥LTSï¼ˆé•¿æœŸæ”¯æŒï¼‰ï¼Œå³ä»ç°åœ¨å¼€å§‹æŒç»­18ä¸ªæœˆï¼ŒVue2å°†ä¸å†æ¥æ”¶æ–°åŠŸèƒ½ã€‚

å¯¹äºä¸€äº›è€é¡¹ç›®æ¥è¯´ï¼Œå½“å‡çº§Vue3æˆæœ¬è¿‡å¤§è€Œä½ åˆå‚æ¶Vue3æ–°çš„apiå’Œä»£ç ç»„ç»‡æ–¹å¼æ—¶ï¼Œé‚£Vue2.7æ— ç–‘æ˜¯æœ€ä½³é€‰æ‹©ï¼Œè¿™å¯ä»¥è®©è¿˜åœ¨ä½¿ç”¨Vue2çš„åŒå­¦æ›´å¥½çš„å­¦ä¹ å¹¶è¿‡æ¸¡åˆ°Vue3ã€‚

æ¥ä¸‹æ¥ç¬”è€…å°†ä»¥ä¸€ä¸ªVue2çš„é¡¹ç›®ï¼Œå°†å…¶å‡çº§åˆ°Vue2.7å¹¶è®°å½•è¯¥è¿‡ç¨‹ï¼Œæ¬¢è¿æ„Ÿå…´è¶£çš„å°ä¼™ä¼´é˜…è¯»ã€‚

> å‡çº§å‰ç‰ˆæœ¬ï¼švue: 2.6.14ï¼Œvue-cli: 4.0.0

## åˆ é™¤node_moduleså’Œpackage-lock.json

ä¸ºäº†ç¡®ä¿æˆ‘ä»¬åé¢å‡çº§çš„ä¾èµ–ç‰ˆæœ¬æ˜¯æ­£ç¡®çš„ï¼Œåœ¨ä¸€å¼€å§‹æ—¶æˆ‘ä»¬ç›´æ¥å…ˆå°†é¡¹ç›®çš„`node_modules`å’Œ`package-lock.josn`åˆ é™¤ï¼Œé¿å…å‡ºç°å„ç§ç¼“å­˜é—®é¢˜ã€‚

## å‡çº§è¿‡ç¨‹

1. vue-cliè„šæ‰‹æ¶å‡çº§

ç°åœ¨æˆ‘ä»¬å…ˆæŒ‰ç…§è¦æ±‚å‡çº§è„šæ‰‹æ¶çš„ç‰ˆæœ¬ï¼ŒVue2.7å¯¹äºè¦æ±‚vue-cliç‰ˆæœ¬è¦æ±‚å¦‚ä¸‹ï¼š
    * å¦‚æœä½ çš„vue-cliæ˜¯v4ç‰ˆæœ¬çš„ï¼Œé‚£ä¹ˆä½ éœ€è¦å°†å…¶å‡çº§åˆ°~4.5.18
    * å¦‚æœä½ çš„vue-cliæ˜¯v5ç‰ˆæœ¬çš„ï¼Œé‚£ä¹ˆä½ éœ€è¦å°†å…¶å‡çº§åˆ°~5.0.6

```json{8,9,10}
// package.json
{
    "devDependencies": {
        // "@vue/cli-plugin-babel": "^4.0.0",
        // "@vue/cli-plugin-eslint": "^4.0.0",
        // "@vue/cli-service": "^4.0.0",
        // ä¿®æ”¹ä¸º
        "@vue/cli-plugin-babel": "^4.5.18",
        "@vue/cli-plugin-eslint": "^4.5.18",
        "@vue/cli-service": "^4.5.18",
    }
}
```

2. vueç‰ˆæœ¬å‡çº§

```json {5}
// package.json
{
    "dependencies": {
        // "vue": "2.6.14",
        "vue": "2.7.0",
        // vue2.7 ä¸å†éœ€è¦vue-template-compolerï¼Œæ‰€ä»¥å¯ä»¥å°†å…¶åˆ é™¤
        // "vue-template-compiler": "2.6.14", 
    }
}
```
3. @vue/composition-api
æœ‰äº›äººå¯èƒ½å·²ç»åœ¨Vue2çš„é¡¹ç›®ä½¿ç”¨ä¸Šäº†@vue/composition-apiï¼Œè¿™æ—¶ä½ éœ€è¦å°†é¡¹ç›®ä¸­æ‰€ç”¨åˆ°çš„å¯¼å…¥æ›´æ–°ä¸ºvue:

```javascript
// import { ref } from '@vue/composition-api'
import { ref } from 'vue'
```
ä½†@vue/composition-apié‡Œçš„ä¸€äº›APIï¼Œå¦‚createAppï¼Œå¹¶æœªå®Œå…¨åœ¨Vue2.7é‡Œç§»æ¤ï¼Œæ‰€ä»¥å¦‚æœä½ ç”¨åˆ°äº†è¿™äº›APIï¼Œé‚£è¿˜æ˜¯ä½¿ç”¨ç»§ç»­ä½¿ç”¨@vue/composition-apiï¼Œè‹¥ä½ ç”¨åˆ°çš„APIéƒ½æ˜¯Vue2.7é‡Œæœ‰çš„ï¼Œåˆ™å¯ä»¥å°†@vue/composition-apiä»ä¾èµ–ä¸­åˆ å»äº†ã€‚

## ä½¿ç”¨
ç»è¿‡ä¸Šé¢çš„æ”¹åŠ¨åï¼Œç°åœ¨å¯ä»¥é‡æ–°å®‰è£…ä¾èµ–å¹¶è¿è¡Œèµ·æ¥äº†ï¼Œæ¥ç€å°±å¯ä»¥å“å°Vue3çš„æ–°å†™æ³•äº†ã€‚

```vue
<template>
  <div>
    <el-button @click="decrease">-</el-button>
    <el-button>{{ count }}</el-button>
    <el-button @click="increase">+</el-button>
  </div>
</template>

<script setup>
import { ref } from 'vue'

let count = ref(1)

const decrease = () => {
  count.value--
}

const increase = () => {
  count.value++
}
</script>
```

å¦å¤–ï¼ŒVue2.7æ”¯æŒåœ¨æ¨¡æ¿è¡¨è¾¾å¼ä¸­ä½¿ç”¨ESNextè¯­æ³•ï¼Œè¿™æ„å‘³ç€å¯ä»¥åœ¨templateé‡Œä½¿ç”¨å¯é€‰é“¾äº†ï¼Œä»¥å¾€åœ¨Vue2ä¸­ï¼Œtemplateé‡Œå¹¶ä¸æ”¯æŒå¯é€‰é“¾å†™æ³•ï¼Œç°åœ¨åœ¨Vue2.7é‡Œçš„templateä¸­åˆ™å¯ä»¥æ„‰å¿«çš„ä½¿ç”¨å¯é€‰é“¾äº†
```vue
<template>
  <div>
    {{ userInfo?.name }}
  </div>
</template>

<script setup>
import { ref } from 'vue'

let userInfo = ref(null)
</script>
```
## eslinté—®é¢˜

è§£å†³è¿™ä¸ªé—®é¢˜æˆ‘ä»¬éœ€è¦å°†eslint-plugin-vueç‰ˆæœ¬å‡çº§åˆ°9+

```bash
pnpm add eslint-plugin-vue@9.0.0 -D 
```

> å½“ç„¶eslintä¹Ÿä¸æ˜¯ä»€ä¹ˆé—®é¢˜ï¼ŒğŸ‘€ã€‚

## Contributors

<Contributors/>

<CopyRight/>

<Person/>
